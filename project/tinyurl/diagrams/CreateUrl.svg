<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="528" height="405" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[Client->TinyUrlService: createUrl
Note right of TinyUrlService: Get id from cache
TinyUrlService-->KeyGenService: Get new ids\nif cache is empty
KeyGenService-->TinyUrlService: return multiple ids
TinyUrlService->Client: return short url\nor http error]]></source><desc></desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"></g><g class="actor"><path d="M10,20C36.8,17.1 32.1,22.9 81.4,20.0C79.7,32.9 83.1,47.5 81.4,62.5C56.2,59.6 21.4,65.4 10.0,62.5C11.7,43.5 8.3,55.7 10.0,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="20" y="44" style="font-size: 16px; font-family: danielbd;"><tspan x="20">Client</tspan></text></g><g class="actor"><path d="M10,343.375C27.3,346.2 32.9,340.5 81.4,343.4C79.7,354.0 83.1,368.9 81.4,385.9C27.1,388.7 39.2,383.0 10.0,385.9C8.3,355.5 11.7,379.1 10.0,343.4" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="20" y="367.375" style="font-size: 16px; font-family: danielbd;"><tspan x="20">Client</tspan></text></g><path d="M45.7,62.5C34.5,188.0 56.9,298.4 45.7,343.4" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M139.921875,20C260.8,25.8 245.7,14.2 283.8,20.0C282.1,55.7 285.5,26.8 283.8,62.5C162.9,56.7 260.8,68.3 139.9,62.5C141.6,55.7 138.2,38.4 139.9,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="149.921875" y="44" style="font-size: 16px; font-family: danielbd;"><tspan x="149.921875">TinyUrlService</tspan></text></g><g class="actor"><path d="M139.921875,343.375C239.0,337.6 174.5,349.1 283.8,343.4C282.1,350.2 285.5,379.1 283.8,385.9C193.3,380.1 260.8,391.6 139.9,385.9C141.6,374.0 138.2,360.0 139.9,343.4" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="149.921875" y="367.375" style="font-size: 16px; font-family: danielbd;"><tspan x="149.921875">TinyUrlService</tspan></text></g><path d="M211.9,62.5C223.1,107.4 200.6,129.9 211.9,343.4" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M356.03125,20C464.4,14.3 475.8,25.7 498.6,20.0C496.9,44.7 500.3,48.8 498.6,62.5C464.4,68.2 441.9,56.8 356.0,62.5C357.7,40.9 354.3,55.6 356.0,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="366.03125" y="44" style="font-size: 16px; font-family: danielbd;"><tspan x="366.03125">KeyGenService</tspan></text></g><g class="actor"><path d="M356.03125,343.375C378.8,349.1 390.3,337.7 498.6,343.4C496.9,351.8 500.3,379.1 498.6,385.9C444.0,380.2 456.3,391.6 356.0,385.9C357.7,356.0 354.3,379.1 356.0,343.4" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="366.03125" y="367.375" style="font-size: 16px; font-family: danielbd;"><tspan x="366.03125">KeyGenService</tspan></text></g><path d="M427.3,62.5C416.1,277.6 438.6,130.9 427.3,343.4" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="signal"><text x="86.9921875" y="90.25" style="font-size: 16px; font-family: danielbd;"><tspan x="86.9921875">createUrl</tspan></text><path d="M45.7,105.0C85.6,111.6 72.3,98.4 211.9,105.0" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="note"><path d="M231.8828125,125C313.1,118.0 379.3,132.0 407.3,125.0C408.6,132.8 406.0,149.7 407.3,157.5C260.0,150.5 274.0,164.5 231.9,157.5C233.2,142.0 230.6,149.7 231.9,125.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="236.8828125" y="144" style="font-size: 16px; font-family: danielbd;"><tspan x="236.8828125">Get id from cache</tspan></text></g><g class="signal"><text x="245.0703125" y="175.65625" style="font-size: 16px; font-family: danielbd;"><tspan x="245.0703125">Get new ids</tspan><tspan dy="1.2em" x="245.0703125">if cache is empty</tspan></text><path d="M211.9,219.2C371.4,210.6 340.0,227.8 427.3,219.2" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="237.5546875" y="246.9375" style="font-size: 16px; font-family: danielbd;"><tspan x="237.5546875">return multiple ids</tspan></text><path d="M427.3,261.7C292.1,270.3 379.9,253.1 211.9,261.7" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="55.7109375" y="279.84375" style="font-size: 16px; font-family: danielbd;"><tspan x="55.7109375">return short url</tspan><tspan dy="1.2em" x="55.7109375">or http error</tspan></text><path d="M211.9,323.4C147.2,316.7 138.2,330.0 45.7,323.4" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g></svg>
<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="528" height="419" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[Client->TinyUrlService: Get short url
TinyUrlService->Cache: Get original url
TinyUrlService-->DB: Get short id if cache missed
DB-->TinyUrlService: return url
TinyUrlService->Cache: save cache
TinyUrlService->Client: return 301 and\nHost header
]]></source><desc></desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"></g><g class="actor"><path d="M10,20C21.4,22.9 27.1,17.1 81.4,20.0C83.1,30.2 79.7,38.9 81.4,62.5C36.4,65.4 70.0,59.6 10.0,62.5C8.3,52.3 11.7,44.7 10.0,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="20" y="44" style="font-size: 16px; font-family: danielbd;"><tspan x="20">Client</tspan></text></g><g class="actor"><path d="M10,356.6875C31.4,353.8 64.3,359.5 81.4,356.7C83.1,375.4 79.7,366.9 81.4,399.2C21.4,402.0 70.0,396.3 10.0,399.2C11.7,389.0 8.3,376.5 10.0,356.7" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="20" y="380.6875" style="font-size: 16px; font-family: danielbd;"><tspan x="20">Client</tspan></text></g><path d="M45.7,62.5C33.9,273.1 57.5,209.4 45.7,356.7" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M127.015625,20C161.6,14.2 181.9,25.8 270.9,20.0C272.6,30.2 269.2,38.0 270.9,62.5C150.0,68.3 202.9,56.7 127.0,62.5C128.7,50.7 125.3,40.8 127.0,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="137.015625" y="44" style="font-size: 16px; font-family: danielbd;"><tspan x="137.015625">TinyUrlService</tspan></text></g><g class="actor"><path d="M127.015625,356.6875C236.4,350.9 172.1,362.4 270.9,356.7C269.2,392.4 272.6,385.7 270.9,399.2C150.0,393.4 161.6,404.9 127.0,399.2C125.3,392.4 128.7,385.6 127.0,356.7" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="137.015625" y="380.6875" style="font-size: 16px; font-family: danielbd;"><tspan x="137.015625">TinyUrlService</tspan></text></g><path d="M199.0,62.5C210.7,109.6 187.2,185.3 199.0,356.7" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M315.34375,20C377.0,17.1 356.7,22.9 388.7,20.0C390.4,26.8 387.0,50.6 388.7,62.5C347.1,59.6 377.0,65.4 315.3,62.5C313.6,32.4 317.0,26.8 315.3,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="325.34375" y="44" style="font-size: 16px; font-family: danielbd;"><tspan x="325.34375">Cache</tspan></text></g><g class="actor"><path d="M315.34375,356.6875C327.1,353.8 338.5,359.6 388.7,356.7C390.4,386.1 387.0,363.5 388.7,399.2C350.4,396.3 342.9,402.1 315.3,399.2C317.0,363.5 313.6,381.1 315.3,356.7" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="325.34375" y="380.6875" style="font-size: 16px; font-family: danielbd;"><tspan x="325.34375">Cache</tspan></text></g><path d="M352.0,62.5C340.3,109.6 363.8,233.4 352.0,356.7" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M445.75,20C486.1,17.9 461.8,22.1 498.9,20.0C497.2,37.8 500.6,30.2 498.9,62.5C458.5,60.4 454.3,64.6 445.8,62.5C444.1,33.0 447.4,30.2 445.8,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="455.75" y="44" style="font-size: 16px; font-family: danielbd;"><tspan x="455.75">DB</tspan></text></g><g class="actor"><path d="M445.75,356.6875C486.2,354.6 458.9,358.8 498.9,356.7C497.2,383.5 500.6,378.8 498.9,399.2C460.1,401.3 458.5,397.1 445.8,399.2C444.1,368.9 447.4,392.4 445.8,356.7" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="455.75" y="380.6875" style="font-size: 16px; font-family: danielbd;"><tspan x="455.75">DB</tspan></text></g><path d="M472.3,62.5C484.1,109.6 460.6,189.3 472.3,356.7" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="signal"><text x="60.4765625" y="90.25" style="font-size: 16px; font-family: danielbd;"><tspan x="60.4765625">Get short url</tspan></text><path d="M45.7,105.0C82.5,111.1 126.8,98.9 199.0,105.0" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="208.9765625" y="132.75" style="font-size: 16px; font-family: danielbd;"><tspan x="208.9765625">Get original url</tspan></text><path d="M199.0,147.5C239.5,141.4 235.7,153.6 352.0,147.5" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="208.9765625" y="175.25" style="font-size: 16px; font-family: danielbd;"><tspan x="208.9765625">Get short id if cache missed</tspan></text><path d="M199.0,190.0C428.6,179.1 381.6,200.9 472.3,190.0" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="290.5859375" y="217.75" style="font-size: 16px; font-family: danielbd;"><tspan x="290.5859375">return url</tspan></text><path d="M472.3,232.5C312.3,243.4 242.7,221.6 199.0,232.5" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="231.5" y="260.25" style="font-size: 16px; font-family: danielbd;"><tspan x="231.5">save cache</tspan></text><path d="M199.0,275.0C271.3,281.1 223.5,268.9 352.0,275.0" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="55.7109375" y="293.15625" style="font-size: 16px; font-family: danielbd;"><tspan x="55.7109375">return 301 and</tspan><tspan dy="1.2em" x="55.7109375">Host header</tspan></text><path d="M199.0,336.7C137.7,330.6 133.1,342.8 45.7,336.7" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g></svg>